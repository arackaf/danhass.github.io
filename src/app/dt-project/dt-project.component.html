<div *ngIf="data?.targetProject != null && data?.targetProject != undefined" >
    <div class="dtBorder-B dtGrid-15P40P43P" 
        style="background-color: {{data.targetProject?.colorString}}">
            <div class="dtCen dtBorder-R dtPad-LR">{{data.targetProject?.shortCode}}</div>
            <div *ngIf="!(data.itemBeingEdited == data.targetProject?.id && data.fieldBeingEdited == 'project-description')"
                (click)="editItemStart(data.targetProject?.id, 'project-description')" 
                tooltip="{{data.targetProject?.notes == undefined || data.targetProject?.notes == null || data.targetProject?.notes == 'null'? '' : data.tooltipFormatted(data.targetProject?.notes)}}"
                class="dtPad-LR dtBorder-R">
                    {{data.targetProject?.title}}
                <span *ngIf="data.targetProject?.notes != undefined && data.targetProject?.notes != null && data.targetProject?.notes != 'null' && data.targetProject?.notes != ''"         
                  style="color: red"            
                > *
                </span>
         </div>
            <div *ngIf="(data.itemBeingEdited == data.targetProject?.id && data.fieldBeingEdited == 'project-description')"
                class="dtPad-LR dtVA-T dtBorder-R">
                    <input type="checkbox" (change)="setProjectDescription($event)" />
                    <select id="updProjectColorCodeId" name="updProjectColorCodeId" [value]="data.editValueThird" [(ngModel)]="data.editValueThird" >                             
                        <option *ngFor="let c of dtPlanner.colorCodes" [value]="c.id" style="background-color: {{c.title}};">{{c.title}}</option>                          
                    </select>                                         
                    <input type="text" [value]="data.editValueFirst" id="updProjectTitle" name="updProjecTitle" [(ngModel)]="data.editValueFirst"><br />
                    <span clsss="dtPadLR">&nbsp;</span><textarea class="dtW-40P" rows="4" id="updProjectNote" name="updProjectNote" [(ngModel)]="data.editValueSecond" placeholder="Notes"></textarea>
            </div>
            <div class="dtPad-LR" *ngIf="data.projectBeingDeleted != data.targetProject?.id">
              <a class="deleteAnchor" (click)='data.projectBeingDeleted = data.targetProject?.id'>Delete</a>&nbsp;&nbsp;&nbsp;
              <a class="deleteAnchor" (click)="data.targetProject = undefined">Done</a>
            </div>
            <div class="dtPad-LR" *ngIf="data.projectBeingDeleted == data.targetProject?.id">
              <input type="checkbox" [checked]="data.projectDeleteProjItems" (change)="data.projectDeleteProjItems = !data.projectDeleteProjItems"> Delete project's items.<br />
              Transfer items to:
              <select id="transferProjectItemsTarget" [value]="data.projectTransferItemsTo" [(ngModel)]="data.projectTransferItemsTo">                
                <option [value]="0">NO TRANSFER</option>                
                <option *ngFor="let project of filteredProjects()" [value]="project.id" style="background-color: {{project.colorString}};">{{project.title}}</option>              
              </select><br />
              <input type="checkbox" (click)="deleteProject(data.targetProject)" /> Delete this project.
            </div>            
    </div>    
    <app-dt-tabs
    [items]="[{'title': 'Recurrences', 'selector': 'Project Recurrences'}, {'title': 'Items', 'selector': 'Project Plan Items'}]"
    >
    </app-dt-tabs>
</div>
<div *ngIf="data?.targetProject == null" >
    <div *ngIf="(dtPlanner.projects && dtPlanner.projects.length > 0)" class="dtGrid-100P dtBorder-T">
        <div style="display: grid; grid-template-columns: 100%;">
          <div class="dtPad-LR dtBorder-B" style="grid-column: 1;">
            <h4>Projects</h4>
          </div>
          <div class="dtBorder-B" style="grid-column: 1;" *ngFor="let project of dtPlanner.projects">
            <div style="display: grid; grid-template-columns: 10% 90%;">
              <div class="dtPad-LR dtGridColumn-1 dtBorder-R" (click)="data.setTargetProject(project) && dtPlanner.loadProjectItems(project.id)" style="background-color: {{project.colorString}};"><span>&nbsp;</span></div>
              <div class="dtPad-LR dtGridColumn-2" (click)="data.setTargetProject(project) && dtPlanner.loadProjectItems(project.id)" style="background-color: {{project.statusObj.colorString}}"
                tooltip="{{project?.notes == undefined || project?.notes == null || project?.notes == 'null'? '' : data.tooltipFormatted(project?.notes)}}"
              >
                {{project.title}}
                <span *ngIf="project?.notes != undefined && project?.notes != null && project?.notes != 'null' && project?.notes != ''"         
                  style="color: red"            
                > *
              </span>               

              </div>
            </div>
          </div>
        </div>
    </div>
</div>

<div class="dtBorder-B dtGrid-100P dtBg-darkgray">              
    &nbsp;            
</div>          

